@media screen and (max-width: 999px) {
    #navi_menu {
        position: absolute;
        background-color: RGB(57, 173, 85);
        width: fit-content;
        z-index: 11;

        &:has(#navi_menu_open_flg:checked)+#display_gray_out {
            display: inline-block;
        }

        &:has(#navi_menu_open_flg:checked) {
            max-height: 100vh;
        }
    }

    #navi_menu_icon {
        display: flex;
        cursor: pointer;
        flex-shrink: 0;

        &:has(#navi_menu_open_flg:checked)+#navi_menu_content {
            display: block;
            width: 17rem;
        }

        & fa-icon {
            font-size: 1.5rem;
            height: 3rem;
            margin-left: 0.5rem;
            margin-right: 0.5rem;
            display: flex;
            align-items: center;
        }

        &::after {
            content: '';
            display: block;
            height: 3rem;
            background-color: gray;
            width: 100%;
        }
    }

    #navi_menu_content {
        display: none;
    }
}

@media screen and (min-width: 1000px) {
    #navi_menu {
        height: 100vh;
        background-color: RGB(57, 173, 85);
        width: fit-content;
        z-index: 11;

        &:has(#navi_menu_open_flg:not(:checked)) .navi_menu_cont_parent:has(.navi_menu_child_open_flg:checked)+.navi_menu_cont_child_area {
            position: absolute;
            display: inline-block;
            background: RGB(57, 173, 85);
            padding: 0.2rem;
            margin-top: -1.5rem;
            margin-left: 2.3rem;
            width: fit-content;
        }

        &::before {
            content: '';
            display: block;
            height: 3rem;
            background-color: gray;
            flex-shrink: 0;
        }
    }

    #navi_menu_icon {
        display: flex;
        width: fit-content;
        padding-left: 0.5rem;
        padding-right: 0.5rem;
        cursor: pointer;

        & fa-icon {
            font-size: 1.5rem;
            height: 3rem;
            display: flex;
            align-items: center;
        }

        &:has(#navi_menu_open_flg:checked)~#navi_menu_content {
            width: 17rem;

            & span,
            .navi_menu_cont_parent label:last-child {
                display: inline-block;
            }
        }
    }

    .navi_menu_cont_parent>span {
        display: none;
    }

    #display_index {
        display: flex;
    }
}

#navi_menu {
    display: flex;
    flex-direction: column;
}


#navi_menu_content {
    overflow: auto;
    overflow-x: hidden;

    & fa-icon {
        width: 1.1rem;
        text-align: center;
        margin-left: 0.5rem;
        margin-right: 0.5rem;
    }
}

.navi_menu_cont_parent,
.navi_menu_cont_child {
    display: flex;
    width: 100%;
    cursor: pointer;
    white-space: nowrap;
}

#navi_menu_icon:has(#navi_menu_open_flg:checked)~#navi_menu_content {
    .navi_menu_cont_parent {
        *:nth-child(-n+3) {
            flex-shrink: 0;
        }

        *:nth-child(4) {
            flex-grow: 1;
            text-align: end;
        }

        &:has(.navi_menu_child_open_flg:checked) {
            .open_content {
                display: inline-block;
            }

            .close_content {
                display: none;
            }

            +.navi_menu_cont_child_area {
                display: block;

                .navi_menu_cont_child:first-child {
                    display: none;
                }
            }
        }
    }
}

.navi_menu_child_open_flg,
.open_content,
#navi_menu_open_flg {
    display: none;
}

#display_gray_out {
    position: absolute;
    display: none;
    background-color: #000;
    width: 100%;
    height: 100%;
    opacity: 0.3;
    z-index: 10;

    >label {
        display: block;
        width: 100%;
        height: 100%;
    }

}

#navi_menu span,
#navi_menu fa-icon {
    color: white;
}

#navi_menu_content label:hover,
.navi_menu_cont_child_area div:hover,
#navi_menu_icon:hover {
    background-color: white;
    cursor: pointer;
}

.navi_menu_cont_child_area {
    width: 100%;
    display: none;

    & fa-icon {
        display: inline-block;
    }

    >.navi_menu_cont_child {
        padding-left: 1rem;
        white-space: nowrap;

        &:not(:first-child) fa-icon {
            transform: rotate(90deg);
        }
    }
}

#navi_menu_content div {
    margin-bottom: 0.2rem;
}

.elem_visible {
    display: inline-block;
}

#navi_menu_content label:hover fa-icon,
#navi_menu_content label:hover span,
#navi_menu_icon:hover fa-icon,
#navi_menu_content .navi_menu_cont_child_area div:hover fa-icon,
#navi_menu_content .navi_menu_cont_child_area div:hover span {
    color: RGB(57, 173, 85);
}

#display_main_act {
    overflow: hidden;
    width: 100%;
    height: 100vh;
}